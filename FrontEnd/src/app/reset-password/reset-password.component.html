<div class="reset-wrapper">
  <div class="reset-container">

    <h2>Mot de passe oublié</h2>

    <form *ngIf="step === 1" (ngSubmit)="sendCode()">
      <input type="email" [(ngModel)]="email" name="email" required placeholder="Votre email" />
      <button type="submit">📨 Envoyer le code</button>
    </form>

    <form *ngIf="step === 2" (ngSubmit)="verifyCode()">
      <input type="text" [(ngModel)]="code" name="code" required placeholder="Code reçu par email" maxlength="6" />
      <button type="submit">✔️ Vérifier le code</button>
    </form>

    <form *ngIf="step === 3" (ngSubmit)="resetPassword()">
      <input type="password" [(ngModel)]="newPassword" name="newPassword" required placeholder="Nouveau mot de passe" />
      <button type="submit">🔐 Réinitialiser</button>
    </form>

    <div *ngIf="message" [ngClass]="{ 'success': !isError, 'error': isError }" class="message">
      {{ message }}
    </div>

    <!-- Bouton pour retourner au login, visible au début ou après reset réussi -->
    <button *ngIf="(step === 1) || (step === 3 && !isError)" (click)="goToLogin()" class="btn-return-login">
      ← Retour 
    </button>

  </div>
</div>
