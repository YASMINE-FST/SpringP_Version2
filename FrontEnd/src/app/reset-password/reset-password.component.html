<div class="reset-wrapper">

  <div class="reset-container">
      <button (click)="goToLogin()" class="btn-return-login" aria-label="Back to login" [disabled]="loading">
    ‚Üê 
  </button>
    <div class="reset-split">
      <!-- Illustration Left -->
      <div class="illustration-wrapper">
        <img src="password.svg" alt="Forgot Password Illustration" />
      </div>

      <!-- Form Right -->
      <div class="form-wrapper">
        <h2 class="reset-title">Forgot Your Password ?</h2>

        <!-- Message success / error -->
        <div *ngIf="message" class="message" [ngClass]="{ success: !isError, error: isError }" role="alert">
          {{ message }}
        </div>

        <!-- Step 1 -->
        <form *ngIf="step === 1" (ngSubmit)="sendCode()" class="reset-form fade-in" novalidate>
          <label for="email">Email Address</label>
          <input
            type="email"
            [(ngModel)]="email"
            name="email"
            required
            placeholder="Enter your email"
            autocomplete="email"
            class="reset-input" />
          <button type="submit" class="reset-button" [disabled]="!email || loading">
            Reset Password
          </button>
        </form>

        <!-- Step 2 -->
        <form *ngIf="step === 2" (ngSubmit)="verifyCode()" class="reset-form fade-in" novalidate>
          <label for="code">Verification Code</label>
          <input
            type="text"
            [(ngModel)]="code"
            name="code"
            required
            maxlength="6"
            placeholder="Code received by email"
            autocomplete="one-time-code"
            class="reset-input" />
          <button type="submit" class="reset-button" [disabled]="code.length !== 6 || loading">
            Verify Code
          </button>
        </form>

        <!-- Step 3 -->
        <form *ngIf="step === 3" (ngSubmit)="resetPassword()" class="reset-form fade-in" novalidate>
          <label for="newPassword">New Password <span class="required">*</span></label>
          <input
            type="password"
            [(ngModel)]="newPassword"
            name="newPassword"
            required
            placeholder="Enter new password"
            autocomplete="new-password"
            class="reset-input" />
          <button type="submit" class="reset-button" [disabled]="!newPassword || loading">
            Reset Password
          </button>
        </form>
      </div>
    </div>
    
  </div>
  
</div>
