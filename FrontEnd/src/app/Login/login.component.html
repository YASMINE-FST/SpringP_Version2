<div class="background-blur"></div>

<div class="login-page">
  <div class="login-container">
    <div class="login-header">
      <div class="login-icon">
        <i class="fas fa-user-circle"></i>
      </div>
      <h1 class="login-title">Connectez-vous</h1>
    </div>

    <!-- Message d'erreur ou de succès -->
    <div *ngIf="message" 
         [ngClass]="{ 'error-message': isError, 'success-message': !isError }" 
         class="message-box">
      {{ message }}
      <span class="close-icon" (click)="message = ''">×</span>
    </div>

    <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <div class="form-group input-icon">
        <input
          type="email"
          class="form-input"
          [(ngModel)]="email"
          name="email"
          required
          placeholder="Email"
          aria-label="Email"
        />
        <i class="fas fa-envelope"></i>
      </div>

      <div class="form-group input-icon">
        <input
          type="password"
          class="form-input"
          [(ngModel)]="password"
          name="password"
          required
          placeholder="Password"
          aria-label="Password"
        />
        <i class="fas fa-lock"></i>
      </div>

      <div class="login-options">
        <label class="remember-me">

          <input type="checkbox" [(ngModel)]="rememberMe" name="rememberMe"> Remember me</label>
        <a href="#" class="forgot-password" (click)="forgotPassword($event)">Forgot Password?</a>
      </div>

      <button 
        type="submit"
        class="submit-btn"
        [disabled]="!loginForm.form.valid || loading">
        <span *ngIf="!loading"><i class="fas fa-sign-in-alt"></i> SIGN IN</span>
        <span *ngIf="loading"><i class="fas fa-spinner fa-spin"></i> PROCESSING...</span>
      </button>
    </form>

    <div class="social-login">
      <p class="divider"><span>OR</span></p>
      <button class="google-btn" (click)="loginWithGoogle()">
        <i class="fab fa-google"></i> Continue with Google
      </button>
    </div>

    <p class="signup-link">
      Don't have an account? 
      <a [routerLink]="['/signup']">Sign up</a>
    </p>
  </div>
</div>